#ifndef __CONFIG_H
#define __CONFIG_H

//========================================================================
//                                头文件
//========================================================================

#include "type_def.h"
#include "AI8051U.h"
#include <intrins.h>
#include <stdlib.h>
#include <stdio.h>

//========================================================================
//                               主时钟定义
//========================================================================

//#define MAIN_Fosc        22118400L    //定义主时钟
//#define MAIN_Fosc        12000000L    //定义主时钟
//#define MAIN_Fosc        11059200L    //定义主时钟
//#define MAIN_Fosc        5529600L     //定义主时钟
//#define MAIN_Fosc        24000000L    //定义主时钟（原始配置）

//========================================================================
// 优化5：提升系统频率到48MHz（性能翻倍）
//========================================================================
#define MAIN_Fosc        48000000L    //定义主时钟 48MHz
//
// 频率选项（根据需求选择）：
//   24MHz - 原始配置，功耗最低
//   48MHz - 推荐配置，性能翻倍 ⭐
//   72MHz - 高性能配置
//   96MHz - 极高性能
//  120MHz - 最高性能（注意散热）
//
// 注意：
//   1. Timer0_Reload 会自动适配（基于MAIN_Fosc计算）
//   2. UART波特率会自动适配（基于MAIN_Fosc计算）
//   3. 下载时需在STC-ISP中选择对应的IRC频率
//   4. 48MHz功耗略增，但仍远低于芯片额定值
//========================================================================

//========================================================================
//                               定时器定义
//========================================================================

#define Timer0_Reload   (MAIN_Fosc / 1000)      //Timer 0 中断频率, 1000次/秒

//========================================================================
//                               串口定义
//========================================================================

#define PrintUart       1        //1:printf 使用 UART1; 2:printf 使用 UART2
#define Baudrate        115200L
#define TM              (65536 -(MAIN_Fosc/Baudrate/4))

//========================================================================
//                             外部中断按键配置
//========================================================================

// 外部中断按键模块开关（1=启用, 0=禁用）
#define ENABLE_INT_KEY  1  // 默认启用

// 如果禁用外部中断按键模块:
//   - INT0/INT1/INT2/INT3中断不会被配置
//   - 相关代码不会被编译
//   - 节省代码空间和中断资源

//========================================================================
//                             USB HID 配置
//========================================================================

#define PRINTF_HID              // printf 重定向到 USB HID 接口
//#define PRINTF_SEGLED         // printf 重定向到 ISP 下载软件中的 7 段数码管

//========================================================================
//                             外部函数和变量声明
//========================================================================


#endif
